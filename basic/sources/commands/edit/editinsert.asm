; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		editinsert.asm
;		Purpose:	Editor - Insert line
;		Created:	8th April 2024
;		Reviewed:   No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

; ************************************************************************************************
;
;										Insert line
;
; ************************************************************************************************

		.section code

EDInsertLine:
		lda 	#4 							; 4 bytes in line (it's blank)
		sta 	tokLineSize
		lda 	ControlParameters+1 		; copy line #
		sta 	TOKLineNumber
		lda 	ControlParameters+2
		sta		TOKLineNumber+1
		lda 	#KWD_SYS_END 				; blank line.
		sta 	tokBuffer
		jsr 	PGMInsertLine 				; and delete the line.
		jsr 	EDInitialise 				; renumber it. 
		rts

		.send code

				
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

