; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		inputprintline.asm
;		Purpose:	File driven input/print ascii lines
;		Created:	4th August 2024
;		Reviewed:   No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section code

; ************************************************************************************************
;
;									Handle line output
;
; ************************************************************************************************

InputLineHandler:
		jsr 	IOLCommonChannelCode
		.byte 	3

; ************************************************************************************************
;
;									Handle line input
;
; ************************************************************************************************

OutputLineHandler:
		jsr 	IOLCommonChannelCode
		.byte 	3		


; ************************************************************************************************
;
;								process LINE # <channel>,
;
; ************************************************************************************************

IOLCommonChannelCode:
		iny 								; consume line
		lda 	(codePtr),y 				; must be followed by a #
		cmp 	#KWD_HASH
		bne	 	_IOLCSyntax
		iny 								; consume #
		jsr 	FHIdentifyChannel 			; get the current channel.
		jsr 	ERRCheckComma 				; check , follows
		rts
_IOLCSyntax:
		.error_syntax

		.send code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

